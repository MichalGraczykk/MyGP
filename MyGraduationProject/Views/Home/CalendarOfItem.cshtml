@model DatabaseAccess.Item
@{
    ViewBag.Title = "CalendarOfItem";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script type="text/javascript">
  $(function(){
      $('#dPicker').datepicker({
      dateFormat: 'dd/mm/yy',
      inline: true,
      showOtherMonths: true,
      dayNamesMin: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
    });
      $('#dPickerr').datepicker({
        dateFormat: 'dd/mm/yy',
        inline: true,
        showOtherMonths: true,
        dayNamesMin: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
    });
  });
</script>

@if (ViewBag.Auth != null)
{
<div class="move" style="top:250px;">
    <ol>
        @using (Html.BeginForm())
        {
            @Html.Hidden("ITEM_ID", Model.ITEM_ID)

            <li>
                Data rozpoczęcia zamówienia:
            </li>

                <li>
                    @Html.TextBox("tDateFrom", null, new { id = "dPicker" })
                </li>

                <li>
                    <span style="color:#363636; font-size:10px;">(DD/MM/YYYY)</span>
                </li>

                <li>
                    Data zakończenia zamówienia:
                </li>

                <li>
                    @Html.TextBox("tDateTo", null, new { id = "dPickerr" })
                </li>

                <li>
                    <span style="color:#363636; font-size:10px;">(DD/MM/YYYY)</span>
                </li>

                <li>
                    <input type="submit" value="Zamów" class="btn btn-default" />
                </li>
        }
    </ol>
</div>
}
<div class="calendarContainer">

    <div class="oneItemContainer">
        <div class="leftHalfOfOneItem">
            <span style="font-family: 'Archivo Black', sans-serif; color: #313131">
                @Html.DisplayNameFor(model => model.NAME)
                :
            </span>
            @Html.DisplayFor(model => model.NAME)
        </div>

        <div class="rightHalfOfOneItem">
            <span style="font-family: 'Archivo Black', sans-serif; color: #313131">
                @Html.DisplayNameFor(model => model.PRICE_PER_DAY)
                :
            </span>
            @Html.DisplayFor(model => model.PRICE_PER_DAY)
        </div>

        <div class="photoOfItemFloat">
            <div class="help">
                <img src="@Html.DisplayFor(model => model.PHOTO)" />
            </div>
        </div>

        <div class="toCalendar">
            <div id="calendar"></div>
        </div>
        
        <div class="descriptionOfItem">
            <span style="font-family: 'Archivo Black', sans-serif; color: #313131">
                @Html.DisplayNameFor(model => model.DESCRPTION)
            </span>
            <br />
            @Html.DisplayFor(model => model.DESCRPTION)
        </div>
    </div>

    
</div>

<script>
    var MyEvents = @Html.Raw(Json.Encode(@ViewBag.MyEventList));
    var currentDate = Date.now();

	$(document).ready(function() {
	    $('#calendar').fullCalendar({
			header: {
				left: 'prev,next today',
				center: 'title',
				right: 'month,basicWeek,basicDay'
			},
			defaultDate: currentDate,
			editable: false,
			eventLimit: true,
			events: MyEvents
		});

	});
</script>